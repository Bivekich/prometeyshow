# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –≤ Production

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞
–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –ø–æ—è–≤–ª—è—é—Ç—Å—è –æ—à–∏–±–∫–∏:
- `404 (Not Found)` –¥–ª—è `/_next/image?url=%2Fimages%2F...`
- `400 (Bad Request)` –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –ó–∞–º–µ–Ω–∞ Next.js Image –Ω–∞ StaticImage

–ú—ã –∑–∞–º–µ–Ω–∏–ª–∏ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `Image` –∏–∑ `next/image` –Ω–∞ –∫–∞—Å—Ç–æ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `StaticImage`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—ã—á–Ω—ã–µ `<img>` —Ç–µ–≥–∏ –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ Next.js.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö:**
- ‚úÖ `components/ui/StaticImage.tsx` - –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚úÖ `next.config.ts` - –æ—Ç–∫–ª—é—á–µ–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `StaticImage`

### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Next.js

```typescript
// next.config.ts
images: {
  // –ü–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–∞–µ–º –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π Next.js
  unoptimized: true,
  loader: 'custom',
  loaderFile: './lib/imageLoader.js',
},
```

### 3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```
public/
  images/
    fire-show.jpg      (346KB)
    pyro-show.jpg      (282KB) 
    themed-show.jpg    (454KB)
    fire-effects.jpg   (954KB)
    video-poster.jpg   (6KB)
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
1. `npm run build` - —Å–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
2. `npm start` - –∑–∞–ø—É—Å–∫ production —Å–µ—Ä–≤–µ—Ä–∞
3. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ `http://localhost:3000/test-images` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ `public/images/` –∑–∞–≥—Ä—É–∂–µ–Ω–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º (644 –¥–ª—è —Ñ–∞–π–ª–æ–≤, 755 –¥–ª—è –ø–∞–ø–æ–∫)
3. –û—Ç–∫—Ä–æ–π—Ç–µ `https://–≤–∞—à-–¥–æ–º–µ–Ω.ru/test-images`

## üöÄ –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–±—ã—á–Ω—ã–π –¥–µ–ø–ª–æ–π
```bash
# –°–±–æ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ
npm run build

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
# - .next/
# - public/
# - package.json
# - node_modules/ (–∏–ª–∏ npm install –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
npm start
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker
```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t prometey-app .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 3000:3000 prometey-app
```

## üîß –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
npm run check-images

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
https://–≤–∞—à-–¥–æ–º–µ–Ω.ru/images/fire-show.jpg
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
```bash
# Docker
docker logs container-name

# PM2
pm2 logs

# –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫
npm start
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (Linux)
```bash
ls -la public/images/
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: -rw-r--r-- (644) –¥–ª—è —Ñ–∞–π–ª–æ–≤
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: drwxr-xr-x (755) –¥–ª—è –ø–∞–ø–æ–∫

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤
chmod 644 public/images/*
chmod 755 public/images/
```

## üìù –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. **–û—Ç–∫–ª—é—á–µ–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Next.js Image** - –±–æ–ª—å—à–µ –Ω–µ—Ç –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ `/_next/image`
2. **–°–æ–∑–¥–∞–Ω—ã fallback –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** - –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å —á—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å
3. **–£–ø—Ä–æ—â–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –æ–±—ã—á–Ω—ã–µ `<img>` —Ç–µ–≥–∏
4. **–î–æ–±–∞–≤–ª–µ–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/test-images` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å (–±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)
- –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—Ä—É—á–Ω—É—é
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–º–µ—é—Ç —Ä–∞–∑—É–º–Ω—ã–π —Ä–∞–∑–º–µ—Ä (< 1MB)

## üÜò –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞—é—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞–ø—Ä—è–º—É—é: `–¥–æ–º–µ–Ω.ru/images/fire-show.jpg`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–∞–ø–∫–∞ `public/` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ (Nginx/Apache)
5. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –ª–æ–≥–∞–º —Å–µ—Ä–≤–µ—Ä–∞

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –Ω–µ —Ä–µ—à–∞—é—Ç—Å—è, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ:
- URL —Å–∞–π—Ç–∞
- –°–∫—Ä–∏–Ω—à–æ—Ç –æ—à–∏–±–æ–∫ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
- –†–µ–∑—É–ª—å—Ç–∞—Ç –∫–æ–º–∞–Ω–¥—ã `npm run check-images` 