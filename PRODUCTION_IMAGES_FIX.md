# Исправление проблемы с изображениями в production

## Проблема
В локальной разработке изображения отображались корректно, но после сборки (`npm run build`) изображения не показывались. Это происходило из-за того, что в production режиме Sanity CMS был недоступен или неправильно настроен.

## Решение

### 1. Система Fallback для изображений
Обновлен файл `lib/sanity.ts` с улучшенной системой fallback:

- **Раньше**: Возвращался `placeholder-image.svg` 
- **Теперь**: Возвращаются реальные изображения из папки `public/images/`

```javascript
// Fallback изображения для разных категорий
const fallbackImages = {
  fire: '/images/fire-show.jpg',
  pyro: '/images/pyro-show.jpg',
  effects: '/images/fire-effects.jpg',
  themed: '/images/themed-show.jpg',
  default: '/images/fire-show.jpg',
  video: '/images/video-poster.jpg'
};
```

### 2. Mock данные для production
Добавлены полные mock данные для всех компонентов:

- **Контакты**: информация о компании, телефоны, адреса
- **Галерея**: фото и видео с реальными путями к изображениям
- **Услуги**: детальные описания услуг, цены, специальные предложения
- **О нас**: достижения, статистика, документы
- **Главная страница**: видео баннер, информация о компании, статистика

### 3. Переменные окружения для production
Создан файл `.env.production`:

```bash
NODE_ENV=production
DISABLE_SANITY=true
NEXT_PUBLIC_SITE_URL=https://prometeyshow.ru
NEXT_PUBLIC_USE_FALLBACK_IMAGES=true
```

### 4. Улучшенная обработка ошибок
- Добавлены проверки на существование данных в компонентах
- Fallback значения для заголовков страниц
- Graceful degradation при отсутствии данных

## Результат

✅ **Сборка проходит успешно** - `npm run build` выполняется без ошибок  
✅ **Изображения отображаются** - используются реальные изображения из `public/images/`  
✅ **Все страницы работают** - главная, о нас, услуги, галерея, контакты  
✅ **Fallback система** - сайт работает даже без Sanity CMS  

## Структура изображений

Используются следующие изображения из папки `public/images/`:
- `fire-show.jpg` - основные огненные шоу
- `pyro-show.jpg` - пиротехнические шоу  
- `themed-show.jpg` - тематические представления
- `fire-effects.jpg` - спецэффекты
- `video-poster.jpg` - постер для видео

## Как это работает

1. **В development**: Sanity работает нормально, используются данные из CMS
2. **В production**: Sanity отключен (`DISABLE_SANITY=true`), используются mock данные
3. **Изображения**: Вместо placeholder'ов используются реальные изображения
4. **Fallback**: Если какие-то данные недоступны, показываются разумные значения по умолчанию

## Дальнейшие шаги

Для полноценной работы в production рекомендуется:
1. Настроить Sanity CMS для production окружения
2. Добавить больше реальных изображений в папку `public/images/`
3. Настроить CDN для оптимизации загрузки изображений
4. Добавить мониторинг работы Sanity CMS 